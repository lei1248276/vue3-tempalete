<template>
  <div class="page-container">
    <el-button
      type="primary"
      @click="router.push('/login')"
    >
      è·³è½¬login
    </el-button>
    <el-button
      type="primary"
      @click="router.push('/auth/role')"
    >
      è·³è½¬role
    </el-button>
    <el-button
      type="primary"
      @click="router.push('/auth/user')"
    >
      è·³è½¬user
    </el-button>
    <el-button
      type="primary"
      @click="router.push('/auth/admin')"
    >
      è·³è½¬admin
    </el-button>

    <el-button
      type="primary"
      @click="resetRouter(permissionStore.addRoutes)"
    >
      resetRouter
    </el-button>

    <el-button @click="calcCount">{{ count }}</el-button>
    <el-button @click="calcAge">{{ person.age }}</el-button>
  </div>
</template>

<script lang="ts">
export default {
  name: 'Dashboard'
}
</script>

<script setup lang="ts">
import { resetRouter } from '@/router'

const router = useRouter()
const permissionStore = usePermissionStore()

const count = ref(0)
const person = reactive({ age: 1 })
const calcCount = () => count.value++
const calcAge = () => person.age++

onMounted(() => {
  console.log('dashboard')
})

watch(
  () => person.age,
  (v) => console.log('%cðŸš€ ~ file: index ~ method: person.age ~', 'color: #F25F5C;font-weight: bold;', v)
)
watch(
  count,
  (v) => console.log('%cðŸš€ ~ file: index ~ method: count ~', 'color: #F25F5C;font-weight: bold;', v)
)
</script>
